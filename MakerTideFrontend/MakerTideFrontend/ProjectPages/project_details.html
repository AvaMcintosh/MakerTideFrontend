<!doctype html>
<html lang="en">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<link rel="stylesheet" href="project_details.css" />
	<title>Homepage</title>
</head>


<body>
	<!-- Header -->
	<div class="main-nav">
		<div class="navbar">
			<a class="title" href="homepage.html">Maker Tide</a>
			<div class="searchbar">
				<img class="searchimg" src="images/search.png" />
				<input type="search" name="search" id="search" placeholder="Search the website" />
			</div>
			<a class="post" href="postproject_afterlogin.html">Post a project</a>
			<a class="shop" href="#">Shop</a>
			<div class="icons">
				<img class="messageimg" src="images/message.png" />
				<img class="notificationimg" src="images/notification.png" />
				<img class="cartimg" src="images/cart.png" />
			</div>
			<div class="userprofile">
				<div class="profname">
					<img class="userimg" src="images/user.png" />
					<p>Username</p>
					<img class="arrowimg" src="images/arrow.png" />
				</div>
				<div class="dropdown">
					<a href="#">View profile</a>
					<a href="#">My projects</a>
					<a href="#">Support</a>
					<a href="#">Logout</a>
				</div>
			</div>
		</div>
	</div>

	<h1 id="title"></h1>
	<p id="description"></p>
	<p id="budget"></p>



	<script>
		async function loadProject() {
			const id = window.location.pathname.split('/').pop();
			const response = await fetch('/api/projects');
			const projects = await response.json();

			const project = projects.find(p => p.id == id);

			document.getElementById('title').innerText = project.title;
			document.getElementById('description').innerText = project.description;
			document.getElementById('budget').innerText = project.budget;
		}

		loadProject();
	</script>

</body>

</html>